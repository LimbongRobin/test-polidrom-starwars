{"version":3,"sources":["firebase/firebase.utils.js","views/layout/component/login-firebase/login-firebase.component.jsx"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createUserProfileDocument","userAuth","additionalData","a","userRef","fireStore","doc","uid","get","exists","displayName","email","createDate","Date","set","console","log","auth","firestore","provider","GoogleAuthProvider","setCustomParameters","prompt","signInWithGoogle","signInWithPopup","LoginFirebase","props","unsubscribeFromAuth","componentDidMount","onAuthStateChanged","user","componentWillUnmount","signOut","then","data","catch","state","Row","Col","xs","sm","md","xl","Card","Button","type","className","onClick","Component"],"mappings":"+QAcEA,IAASC,cAVI,CACXC,OAAQ,0CACRC,WAAY,mCACZC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKV,IAAMC,EAAyB,uCAAG,WAAMC,EAAUC,GAAhB,qBAAAC,EAAA,yDACnCF,EADmC,wDAEjCG,EAAUC,EAAUC,IAAV,gBAAuBL,EAASM,MAFT,SAGhBH,EAAQI,MAHQ,kBAK3BC,OAL2B,wBAM/BC,EAAsBT,EAAtBS,YAAaC,EAASV,EAATU,MACbC,EAAa,IAAIC,KAPc,mBAU7BT,EAAQU,IAAR,aACJJ,cACAC,QACAC,cACGV,IAd8B,0DAiBnCa,QAAQC,IAAI,wBAAZ,MAjBmC,0DAAH,wDAuBzBC,EAAO1B,IAAS0B,OAChBZ,EAAYd,IAAS2B,YAE5BC,EAAW,IAAI5B,IAAS0B,KAAKG,mBACnCD,EAASE,oBAAoB,CAACC,OAAQ,mBAC/B,IAAMC,EAAmB,kBAAIN,EAAKO,gBAAgBL,ICjCrDM,GDmCWlC,EAAf,E,kDClCE,WAAYmC,GAAQ,IAAD,8BACf,cAAMA,IAIVC,oBAAsB,KALH,EAOnBC,kBAAoB,WAEhB,EAAKD,oBAAsBV,EAAKY,mBAAL,+BAAA1B,EAAA,MAAwB,WAAM2B,GAAN,SAAA3B,EAAA,sDAC/CH,EAA0B8B,GADqB,2CAAxB,wDATZ,EAcnBC,qBAAuB,WAGnBd,EAAKe,UAAUC,MAAK,SAACC,GACjBnB,QAAQC,IAAI,0CACbmB,OAAM,kBAAIpB,QAAQC,IAAI,8CAjBzB,EAAKoB,MAAQ,GAFE,E,qDAuBf,OAAS,6BACL,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,MAC5B,kBAACC,EAAA,EAAD,KACI,kBAACN,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACI,kBAACM,EAAA,EAAD,CAAQC,KAAK,SACTC,UAAU,kBACVC,QAASxB,GAFb,8B,GA9BJyB,cA6CbvB","file":"static/js/9.1d6c8acf.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyCl7047Rjc414naMH-eKH7QZkWR1pYsyxQ\",\r\n    authDomain: \"testing-db-4de4f.firebaseapp.com\",\r\n    projectId: \"testing-db-4de4f\",\r\n    storageBucket: \"testing-db-4de4f.appspot.com\",\r\n    messagingSenderId: \"986598023692\",\r\n    appId: \"1:986598023692:web:443c701eb9cc9da0edc429\",\r\n    measurementId: \"G-55YR71YPGM\"\r\n  };\r\n\r\n  firebase.initializeApp(config);\r\n\r\n  export const createUserProfileDocument = async(userAuth, additionalData) =>{\r\n    if(!userAuth) return;\r\n    const userRef = fireStore.doc(`users/${userAuth.uid}`);\r\n    const snapShot = await userRef.get();\r\n\r\n    if(snapShot.exists){\r\n      const{displayName, email} = userAuth;\r\n      const createDate = new Date();\r\n        \r\n      try{\r\n        await userRef.set({\r\n          displayName,\r\n          email,\r\n          createDate,\r\n          ...additionalData\r\n        })\r\n      }catch(err){\r\n        console.log(\"Something Error With \", err);\r\n      }\r\n    }\r\n    // console.log(\"kolor tetangga warna biru tua\",fireStore.doc('users/128oewriewjr'));\r\n  }\r\n\r\n  export const auth = firebase.auth();\r\n  export const fireStore = firebase.firestore();\r\n\r\n  const provider = new firebase.auth.GoogleAuthProvider();\r\n  provider.setCustomParameters({prompt: 'select_account'});\r\n  export const signInWithGoogle = ()=>auth.signInWithPopup(provider);\r\n\r\n  export default firebase;\r\n","import React, { Component } from 'react'\r\nimport {\r\n    Card,\r\n    Button,\r\n    Row,\r\n    Col\r\n} from 'reactstrap';\r\nimport {signInWithGoogle} from \"../../../../../src/firebase/firebase.utils\";\r\nimport {auth, createUserProfileDocument} from \"../../../../../src/firebase/firebase.utils\";\r\n\r\n\r\nclass LoginFirebase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {  }\r\n    }\r\n\r\n    unsubscribeFromAuth = null;\r\n\r\n    componentDidMount = ()=>{\r\n        // subscriber ke firebase\r\n        this.unsubscribeFromAuth = auth.onAuthStateChanged(async user=>{\r\n            createUserProfileDocument(user);\r\n        });\r\n    }\r\n\r\n    componentWillUnmount = ()=>{\r\n        // agar subcriber tidak berjalan terus menerus ke firebase\r\n        // this.unsubscribeFromAuth();\r\n        auth.signOut().then((data)=>{\r\n            console.log(\"kolor tetangga warna biru sign out \");\r\n        }).catch(()=>console.log(\"kolor tetangga warna biru sign out err\"));\r\n    }\r\n    \r\n    render() { \r\n        return ( <div>\r\n            <Row>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" xl=\"12\">\r\n                    <Card>\r\n                        <Row>\r\n                            <Col>\r\n                                <Button type=\"button\" \r\n                                    className=\"btn btn-primary\"\r\n                                    onClick={signInWithGoogle}\r\n                                    >\r\n                                    Login With Goole\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Card> \r\n                </Col> \r\n            </Row>\r\n        </div> );\r\n    }\r\n}\r\n \r\nexport default LoginFirebase;"],"sourceRoot":""}